{% extends 'base.html' %}

{% load staticfiles %}


{% block content %}
	<head> Welcome, {{full_name}} </head>

	<div style="position:fixed; top:70px; right:90px; width:200px;">
		<form method="post">{% csrf_token %}

			{{ form.query.label }} <br>
			{{ form.query}} <br>
			{% for choice in form.search_type %}
	  			{{ choice.choice_label }}
	  			<span class="radio"> {{ choice.tag }} </span> <br>
			{% endfor %}

		</form>
	</div> 

	<style>

		table {
			border-collapse: collapse;
		}
		.sSearch{
			border: 1px solid black;
		}
	</style>

	<table id="profile_details">
		<tbody>
			<p>
				<tr>
					<td> Username : </td>
					<td> {{user_name}} </td>
				</tr>
			</p>
			<p>
				<tr> 
					<td> First Name </td>
					<td> {{first_name}} </td>
				</tr>
			</p>
			<p>
				<tr>
					<td> Last Name </td>
					<td> {{last_name}} </td>
				</tr>
			</p>
			<p>
				<tr>
					<td> Email </td>
					<td> {{email}} </td>
				</tr>
			</p>
			<p>
				<tr>
					<td> Saved searches </td>
				</tr>
			</p>
			<p>
				<td>
					<table class="sSearch">

						<tr class="sSearch">
							<th class="sSearch">
								Time stamp
							</th>
							<th class="sSearch">
								Tags
							</th>
							<th class="sSearch">
								Description
							</th>
							<th class="sSearch">
								Title
							</th>

							<!-- An empty tag because CSS fails to render table border if it has a text -->

							<th class="sSearch">
								
							</th>
							<th class="sSearch">
								Public &#63;
							</th>

							
						</tr>

						{% for attr in saved_search %}

							<tr class="sSearch">
								<td class="sSearch">{{ attr.timestamp }}</td>

								<td class="sSearch"> {{ attr.tags }} </td>

								<td class="sSearch">{{ attr.description }}</td>

								<td class="sSearch">{{ attr.title }}</td>

								<!-- An empty tag because CSS fails to render table border if it has a text -->

								<td class="sSearch"> </td>

								<td class="sSearch"> {{ attr.isPublic }} </td>

							</tr>
						{% endfor %}
					</table>
				</td>
			</p>
		</tbody>
		
	</table>
 
{% endblock %}
